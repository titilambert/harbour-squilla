<div>
  <h2> SMS Configuration </h2>
  <hr>
  <h4>Control</h4>
  <br/>
  <form class="form-horizontal">
    <div ng-switch on="sms_status" class="form-group">
      <div ng-switch-when="true" class="col-sm-offset-2 col-sm-10 alert alert-success" role="alert">Service is STARTED</div> 
      <div ng-switch-default class="col-sm-offset-2 col-sm-10 alert alert-danger" role="alert">Service is STOPPED</div> 
    </div>
    <div class="form-group">
      <div class="col-sm-offset-5 col-sm-1" ng-switch on="sms_status">
        <button ng-switch-when="true" disabled="disabled" type="button" class="btn btn-success" ng-click="start()">Start</button>
        <button ng-switch-default type="button" class="btn btn-success" ng-click="start()">Start</button>
      </div>
      <div class="col-sm-1" ng-switch on="sms_status">
         <button ng-switch-when="true" type="button" class="btn btn-danger" ng-click="stop()">Stop</button>
         <button ng-switch-default disabled="disabled" type="button" class="btn btn-danger" ng-click="stop()">Stop</button>
      </div>
      <div class="col-sm-1">
         <button type="button" class="btn btn-warning" ng-click="restart()">Restart</button>
      </div>
    </div>
  </form>
  <hr>
  <h4>Configuration</h4>
  <br/>
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <div class="radio col-sm-offset-2 col-sm-10">
        <label>
          <input type="radio" name="connection" id="wifi" value="wifi" ng-model="config.connection" ng-true-value="wifi">
          Use Wifi connnection
        </label>
      </div>
      <div class="radio col-sm-offset-2 col-sm-10">
        <label>
         <input type="radio" name="connection" id="usb" value="usb" ng-model="config.connection" ng-true-value="usb">
          Use USB connection
        </label>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input id="http" ng-model="config.http" type="checkbox" ng-checked="config.http" > Forward SMS to web interface (NOT WORKING)
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label >
            <input id="bonjour" ng-model="config.bonjour" type="checkbox" ng-checked="config.bonjour" > Forward SMS to Bonjour/XMPP
          </label>
        </div>
      </div>
    </div>
    <div class="form-group" ng-if="config.bonjour">
      <label class="col-sm-offset-2 col-sm-3 control-label">Current bonjour authorized user</label>
      <div class="col-sm-6">
        <input ng-model="last_bonjour_auth_user.name" ng-disabled="true">
      </div>
    </div>
    <div class="form-group" ng-if="config.bonjour && sms_status">
      <label for="bonjour_users" class="col-sm-offset-2 col-sm-3 control-label">Select your Bonjour contact ID</label>
      <div class="col-sm-6">
        <select id="bonjour_users" ng-model="config.bonjour_selected_user.name" name="bonjour" class="form-control" >
          <option ng-repeat="bonjour_user in bonjour_users" value="{{ bonjour_user.name }}" >{{ bonjour_user.name }}</option>
          <option ng-if="bonjour_selected_user" value="{{ bonjour_selected_user.name }}" selected="selected" >{{ bonjour_selected_user.name }}</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-1">
        <button type="button" class="btn btn-primary" ng-click="config_save(config)">Save</button>
      </div>
      <div class="col-sm-1">
        <button type="button" class="btn btn-success" ng-click="config_save_restart(config)">Save and Restart</button>
      </div>
    </div>
  </form>
  <hr>
  <h4>Preferences</h4>
  <br/>
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input id="autostart" ng-model="config.autostart" type="checkbox"> Start when Squilla starts
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input id="silent" ng-model="config.silent" type="checkbox"> Switch to Silent mode when Squilla starts
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input id="controller" ng-model="config.controller" type="checkbox"> Active Controller Contact (NOT WORKING)
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="button" class="btn btn-primary" ng-click="config_save(config)">Save</button>
      </div>
    </div>
  </form>
</div>
